<html>
  <head>
    <title>Image Lazy Load</title>
    <style>
      img {
        width: 300px;
        height: 300px;
        background-color: gray;
        display: block;
        margin: 20px auto;
      }
    </style>
  </head>
  <body>
    <img
      data-src="https://images.unsplash.com/photo-1652899728939-1a5a41fbf2c0?ixlib=rb-1.2.1&raw_url=true&q=60&fm=jpg&crop=entropy&cs=tinysrgb&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDJ8Ym84alFLVGFFMFl8fGVufDB8fHx8&auto=format&fit=crop&w=600"
    /><img
      data-src="https://images.unsplash.com/photo-1652637638621-78ff50468dd7?ixlib=rb-1.2.1&raw_url=true&q=60&fm=jpg&crop=entropy&cs=tinysrgb&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDN8Ym84alFLVGFFMFl8fGVufDB8fHx8&auto=format&fit=crop&w=600"
    /><img
      data-src="https://images.unsplash.com/photo-1652981989876-ea9a9cb5a1ac?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=60&raw_url=true&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDV8Ym84alFLVGFFMFl8fGVufDB8fHx8&auto=format&fit=crop&w=600"
    />
    <img
      data-src="https://images.unsplash.com/photo-1652899728939-1a5a41fbf2c0?ixlib=rb-1.2.1&raw_url=true&q=60&fm=jpg&crop=entropy&cs=tinysrgb&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDJ8Ym84alFLVGFFMFl8fGVufDB8fHx8&auto=format&fit=crop&w=600"
    /><img
      data-src="https://images.unsplash.com/photo-1652637638621-78ff50468dd7?ixlib=rb-1.2.1&raw_url=true&q=60&fm=jpg&crop=entropy&cs=tinysrgb&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDN8Ym84alFLVGFFMFl8fGVufDB8fHx8&auto=format&fit=crop&w=600"
    /><img
      data-src="https://images.unsplash.com/photo-1652981989876-ea9a9cb5a1ac?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=60&raw_url=true&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDV8Ym84alFLVGFFMFl8fGVufDB8fHx8&auto=format&fit=crop&w=600"
    />
    <img
      data-src="https://images.unsplash.com/photo-1652899728939-1a5a41fbf2c0?ixlib=rb-1.2.1&raw_url=true&q=60&fm=jpg&crop=entropy&cs=tinysrgb&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDJ8Ym84alFLVGFFMFl8fGVufDB8fHx8&auto=format&fit=crop&w=600"
    /><img
      data-src="https://images.unsplash.com/photo-1652637638621-78ff50468dd7?ixlib=rb-1.2.1&raw_url=true&q=60&fm=jpg&crop=entropy&cs=tinysrgb&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDN8Ym84alFLVGFFMFl8fGVufDB8fHx8&auto=format&fit=crop&w=600"
    /><img
      data-src="https://images.unsplash.com/photo-1652981989876-ea9a9cb5a1ac?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=60&raw_url=true&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDV8Ym84alFLVGFFMFl8fGVufDB8fHx8&auto=format&fit=crop&w=600"
    />
  </body>
  <script>
    const imgs = document.querySelectorAll("img");

    const imageLazyLoad = () => {
      let viewportHeight =
        window.innerHeight || document.documentElement.clientHeight;
      
      for (let i = 0, len = imgs.length; i < len; i++) {
        const distance = viewportHeight - imgs[i].getBoundingClientRect().top;

        if (distance > 0) {
          imgs[i].src = imgs[i].dataset.src;
        }
      }
    };

    function debounce(fn, delay = 500) {
      let timer = null;

      return function (...args) {
        if (timer) clearTimeout(timer);

        timer = setTimeout(() => {
          fn.apply(this, args);
        }, delay);
      };
    }

    window.addEventListener("scroll", debounce(imageLazyLoad, 600));
    window.addEventListener("resize", debounce(imageLazyLoad, 600));
    window.addEventListener("load", imageLazyLoad);
  </script>
</html>
